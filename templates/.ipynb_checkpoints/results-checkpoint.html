<!DOCTYPE html>
<html>
<head>
    <title>Search Results</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">
    <h1>Search Results for "{{ query }}"</h1>
    <a href="/download" class="btn btn-success mb-3">Download as Excel</a>
    <ul class="list-group">
        {% for item in results %}
        <!-- <li class="list-group-item">
            <a href="{{ item.href }}" target="_blank">{{ item.title }}</a>
        </li> -->
        <table class="table table-bordered table-striped">
          <thead class="thead-dark">
            <tr>
              <th>Supplier Name</th>
              <th>Emails</th>
              <th>Phones</th>
              <th>Website</th>
            </tr>
          </thead>
          <tbody>
            {% for r in results %}
            <tr>
              <td>{{ r.supplier_name }}</td>
              <td>
                {% if r.emails %}
                  {{ r.emails | join(', ') }}
                {% else %}
                  <span class="text-muted">N/A</span>
                {% endif %}
              </td>
              <td>
                {% if r.phones %}
                  {{ r.phones | join(', ') }}
                {% else %}
                  <span class="text-muted">N/A</span>
                {% endif %}
              </td>
              <td>
                <a href="{{ r.url }}" target="_blank">{{ r.url }}</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>

        {% endfor %}
    </ul>
    <a href="/" class="btn btn-secondary mt-3">Back</a>
</body>
</html>
